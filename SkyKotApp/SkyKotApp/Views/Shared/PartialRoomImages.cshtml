@model ICollection<RoomImage>

@if (Model.Any())
{
    int roomId = Model.FirstOrDefault().RoomId;
    var carouselId = "carousel-" + roomId;
    var modalCarouselId = "modal-carousel-" +  roomId;
    var modalId = "Modal-" +  roomId;
<div>
    <div id="@carouselId" class="carousel slide col-12" data-ride="@modalCarouselId">
        <div class="carousel-inner">
            @{var teller3 = 0;}
            @foreach (var image in Model)
            {
                var img = "/images/Room/" + (image.Path ?? "avatar.png");
                if (teller3 == 0)
                {
                    <div style="cursor:pointer;" class="carousel-item active" data-toggle="modal" data-target="#@modalId">
                         <div data-target="#@modalCarouselId" data-slide-to=@teller3 class="custom-background" style="cursor:pointer; border-radius: 10px;height: 80vh; width: 100%; background-image: url('@img')"></div>
                    </div>
                }
                else
                {
                    <div style="cursor:pointer;" class="carousel-item" data-toggle="modal" data-target="#@modalId">
                        <div data-target="#@modalCarouselId" data-slide-to=@teller3 class="custom-background" style="cursor:pointer; border-radius: 10px;height: 80vh; width: 100%; background-image: url('@img')"></div>
                    </div>
                }
                teller3++;

            }
        </div>
        <a class="carousel-control-prev" href="#@carouselId" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#@carouselId" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="col-12 d-none d-md-block d-lg-block d-xl-block">
        <div class="row justify-content-center" id="gallery" data-toggle="carousel2" data-target="#@carouselId">
            @{var teller = 0;}
            @foreach (var image in Model)
            {

                var img = "/images/Room/" + (image.Path ?? "default_room.jpg");

                <div class="m-2">
                    <div class="custom-background" style="cursor:pointer; border-radius: 10px; height:100px; width:100px; background-image: url('@img')"  data-target="#@carouselId" data-slide-to=@teller></div>
                </div>

                teller++;
            }
        </div>
    </div>
</div>
<partial name="PartialModal" model="@Model"/>
@*<div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="carousel" class="carousel slide text-center" data-ride="carousel">
                    <div class="carousel-inner">
                        @{var teller2 = 0;}
                        @foreach (var image in Model)
                        {
                                var img = "/images/Room/" + (image.Path ?? "default_room.jpg");
                            if (teller2 == 0)
                            {
                                <div class="carousel-item active row">
                                        <div class="custom-background" style="background-image: url('@img')"></div>
                                </div>
                            }
                            else
                            {
                                <div class="carousel-item">
                                        <div class="custom-background" style="background-image: url('@img')"></div>
                                </div>
                            }
                            teller2++;
                        }
                    </div>
                    <a class="carousel-control-prev ml-auto" href="#carousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next mr-auto" href="#carousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>*@
}